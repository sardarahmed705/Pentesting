URLs:

A uniform resource locator (URL) is a unique identifi er for a web resource through
which that resource can be retrieved. The format of most URLs is as follows:

    protocol://hostname[:port]/[path/]file[?param=value]

    http://example.com:80/profiles/profile?id="HDLK765GK"

http:

    Hypertext Transfer Protocol

    Client-Server Based Architecture

    Request-Response model to server Resources

    Versions - HTTP 1.0/1.1

        HTTP/1.1 Baseline

            -1.1 can reuse connection for multiple URI

        HTTP/2 Multiplexing

            Reduce Latency

            fast , efficient & secure

            Make and Get Multi req and res at same time

    Typicaly Uses TCP Connection

http Methods:

    GET

        - Parameters in URL

    POST

        - Form Submissions, data in message body

    OPTIONS

        - List Of Methods Supported for URL

    HEAD

        - Response for GET but no message Body

    TRACE

        -Echo Client Request back for diagnostics

    PUT

        -Store in URI

    DELETE

        - Delete Resource

Curl:

    curl -v www.example.com

    Connects To Default Port 80

Making HTTP Requests Through Http Methods Using Curl:

    To Check Option Method On Web Server:

    curl -v -X OPTIONS http://www.example.com

    curl -v -X GET http://www.example.com

    curl -v -X HEAD http://www.example.com

HEAD - Security Risks:

    Authentication Bypass:

        - Auth Only Applied for GET , POST and not For HEAD

HTTP methods testing with Nmap NSE Scripts:

    nmap --script=http-methods.nse traget_ip -n -p 80

    nmap --script=http-methods.nse --script-args=http-methods.retset=1 traget_ip -n -p 80

Verb Tampering:

    nmap --script=http-method-tamper.nse traget_ip -n -p 80

HTTP methods testing with metasploit modules:

    use auxiliary/scanner/http/options

    show options

    set options

    run

Verb Tampering:

    use auxiliary/scanner/http/verb_auth_bypass

    show options

    set options

    run

Verb Tampering Documentation:

https://wiki.owasp.org/index.php/Testing_for_HTTP_Verb_Tampering_(OTG-INPVAL-003)

HTTP Authentication:

    1.Basic Auth

    2.Digest Auth

Nmap HTTP-Brute NSE:

    nmap -p 80 --script http-brute --script-args 'http-brute.hostname=example.com,http-brute.method=POST,http-brute.path=/auth/signin,userdb=/root/users.txt, passdb=/root/list' -v example.com -n

metasploit HTTP-Login:

    use auxiliary/http_login

    show options

    set options

    run

https://medium.com/platform-engineer/evolution-of-http-69cfe6531ba0

Diving Deeper HTTP TCP Connection:

    |||||||||||||      SYN      |||||||||||||
    |           |-------------->|           |
    |           |     SYN/ACK   |           |
    |  client   |<--------------|   server  |
    |           |       ACK     |           |
    |           |-------------->|           |
    |           |               |           |
    |||||||||||||<_____________>|||||||||||||
                    con Estb

    connection: keep-alive
